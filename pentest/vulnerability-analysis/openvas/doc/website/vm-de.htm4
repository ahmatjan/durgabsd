m4_dnl -*-html-*-
m4_include(`template.m4')

m4_dnl OpenVAS
m4_dnl $Id$
m4_dnl Description: OpenVAS Virtual Appliance
m4_dnl
m4_dnl Authors:
m4_dnl Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>
m4_dnl Andre Heinecke <aheinecke@intevation.de>
m4_dnl
m4_dnl Copyright:
m4_dnl Copyright (C) 2010-2015 Greenbone Networks GmbH
m4_dnl
m4_dnl This program is free software; you can redistribute it and/or
m4_dnl modify it under the terms of the GNU General Public License
m4_dnl as published by the Free Software Foundation; either version 2
m4_dnl of the License, or (at your option) any later version.
m4_dnl
m4_dnl This program is distributed in the hope that it will be useful,
m4_dnl but WITHOUT ANY WARRANTY; without even the implied warranty of
m4_dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
m4_dnl GNU General Public License for more details.
m4_dnl
m4_dnl You should have received a copy of the GNU General Public License
m4_dnl along with this program; if not, write to the Free Software
m4_dnl Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.

m4_define(`DE')
m4_define(`EN_FILE', `vm.html')
m4_define(`MAIN', `tryout')
m4_define(`TITLE', `OpenVAS DEMO Virtual Appliance')

PAGE_START

<h2>OpenVAS-8 DEMO Virtual Appliance</h2>

<table cellpadding="10" border="0" width="100%">
<tr> <td align="center" width="170px" valign="top" style="border: 0px"><img src="img/openvas5-vm.png" border="0"></td>
<td valign="top" style="border: 0px">

Version: 1.0 (Aktuell bzgl. Basis-System, OpenVAS-8 und Feed zu 2015-05-20) 

<p>
Download Sites für das OVA Image (3.2 GByte):
</p>

<ul>

<li> HTTP via Greenbone (Deutschland):<br/>
     <a href="http://dl.greenbone.net/download/VM/OpenVAS/OpenVAS-8-DEMO-1.0.ova"
       >http://dl.greenbone.net/download/VM/OpenVAS/OpenVAS-8-DEMO-1.0.ova</a>
     (<a href="http://dl.greenbone.net/download/VM/OpenVAS/OpenVAS-8-DEMO-1.0.ova.sha1sum">sha1sum</a>)
</li>

<!--
<li> HTTP via binarysignals (Deutschland):<br/>
     <a href="http://mirrord.binarysignals.net/OpenVAS-7-DEMO-2.4.ova"
       >http://mirrord.binarysignals.net/OpenVAS-7-DEMO-2.4.ova</a>
     (<a href="http://mirrord.binarysignals.net/OpenVAS-7-DEMO-2.4.ova.sha1sum">sha1sum</a>)
</li>
-->

<li> RSYNC via OpenVAS (Deutschland):<br/>
     <a href="rsync://rsync.openvas.org/vm/OpenVAS-8-DEMO-1.0.ova"
       >rsync://rsync.openvas.org/vm/OpenVAS-8-DEMO-1.0.ova</a>
     (<a href="rsync://rsync.openvas.org/vm/OpenVAS-8-DEMO-1.0.ova.sha1sum">sha1sum</a>)
</li>

</ul>

<p>
MD5SUM: b7604b49a1bf3080786be36965b055e9
</p>

<p>
Kompatibilität: VirtualBox >=4.3
</p>

<p>
Wichtige Hinweise:
</p>

<ul>
<li>Sicherheit (es ist sehr empfehlenswert, dass Sie diese Schritte sofort nach dem ersten Start folgen):
<ul>

<li>
Sie sollten das voreingestellte Passwort für das System-Konto "root" ändern. Loggen Sie sich dafür als "root" ein und verwenden Sie das Kommando "passwd".
</li> 

<li>
Sie sollten das voreingestellte Passwort für das System-Konto "openvas" ändern. Loggen Sie sich dafür als "openvas" ein und verwenden Sie das Kommando "passwd".
</li>

<li>
Sie sollten die Datei "/home/openvas/.ssh/authorized_keys" löschen das sie ggf. noch Überbleibsel der Erstellungs-Prozedur der VM enthält.
</li>

<li>Sie sollten das voreingestellte Passwort für das Web-Konto "admin" ändern. Loggen Sie sich dafür als "admin" an der Web-Oberfläche an und wählen Sie aus dem Menü "Extras/My Settings". Dort können Sie nun über den Bearbeiten-Knopf das Passwort ändern. Vergessen Sie dabei nicht Schalter für das Bestätigen der Passwort-Änderung.</li>

<li> Sie sollten das Basis-System unmittelbar aktualisieren um alle Sicherheitsupdates einzuspielen die zwischenzeitlich veröffentlicht wurden. Das Basis-System ist Debian Jessie und daher kann dafür entweder als Benutzer <b>root</b> das Kommando <tt>apt-get update && apt-get upgrade</tt> oder ein anderes Management-Tool Ihrer Wahl verwendet werden.</li>

<li>
    Es wird ein selbstsigniertes SSL-Zertifikat verwendet. Für dieses müssen Sie über im Web-Browser eine Ausnahme zulassen. Tauschen Sie es aus wenn Sie dieses Zertifikat nicht mit anderen OpenVAS DEMO Installationen teilen wollen.</li>

<li>Verschlüsselung von Passworten: Die Passworte die Sie als Credentials (ssh/smb) eingeben und für authentifizierte Scans verwenden, werden verschlüsselt. Dieser Verschlüsselungs-Schlüssel wird beim ersten Nutzung erzeugt</li>

<li>TLS Ciphers: Die Dienste HTTPS und OMP können bzgl. angebotener TLS Ciphers konfiguriert werden.</li>

</ul>
</li>
<li> Verwendung:
<ul>
<li>Wenn Sie nicht wissen, wo Sie in das Web-Interface einloggen: Die IP des Systems sollte vor der Anmeldeaufforderung angezeigt. Sollte es nicht der Fall sein, drücken Sie die Eingabetaste, um eine neue Anmeldeaufforderung anzufordern, in der Zwischenzeit sollte das System eine IP erworben haben, und sollte in der Lage sein, es zu benutzen.</li>
</li>
</ul>
</li>
<li> GNU GPL: Entsprechend der GNU GPL sind sämtliche Quelltexte bereits auf der VM mitinstalliert (unter /root/source). </li>
<li> Performanz: Nach dem Import der VM ist es sinnvoll die Ressourcen zu erhöhen (CPU, RAM), sofern es das Host-System bieten kann.</li>
<li>
  OpenVAS aktualisieren: OpenVAS wurde im Verzeichnis /home/openvas/source gebaut. Sie müssen die neuesten Releases als tar.gz-Dateien herunterladen und dort auf die übliche Weise bauen wie es für den Bau aus Quellen heraus vorgesehen ist.
</li>
<li>
  Web-Timeout: Wenn Sie die Web-Timeout erhöhen möchten, um beispielsweise 1 Stunde, dann sollten Sie einen systemd Drop-in-Datei unter <b>/etc/systemd/system/gsa.service.d/timeout.conf</b> anlegen mit dem folgenden Inhalt (siehe systemd Dokumentation für weitere Details):
<pre>
[Service]<br/>
ExecStart = /usr/local/bin/gsad --foreground --timeout=60<br/>
</pre>
</li>
<li>
Alternative Web-Schnittstelle ITS (IT-Schwachstellenampel): Als root "./switchface-its" eingeben. Zurück mit "./switchface-classic". Ggf. ist es hilfreich ein Reload im Browser zu erzwingen, damit alle Grafikelemente aufgefrischt werden.</li>
<li>
     Sie können das Tastaturlayout als root zu wechseln, indem Sie die empfohlene Methode:
      <tt>dpkg --configure keyboard-configuration && service keyboard-setup restart</tt> benutzen.
      Alternativ können Sie die folgende Kommando verwenden: <tt>switchkbd de</tt> um zu einer deutschen Tastaturbelegung zu wechseln.
      Diese Kommando könnte in manchen Fällen nicht funktionieren.
</li>

</ul>

</td>
</tr>
</table>

<h2>Wichtiger Hinweis zu diesen virtuellen Appliances</h2>
<p>
<b>
Bitte beachten Sie, dass diese virtuellen Maschinen zu Demonstrationszwecken
gedacht sind. Es wird nicht empfohlen diese für den Produktiveinsatz
zu verwenden. Der OpenVAS Scanner ist ressourcenintensiv und kann
auf langsameren System eine Zeitlang brauchen bis er startet. Insbesondere
wenn er in einer VM z.B. auf Laptops gestartet wird.
</b>
</p>
