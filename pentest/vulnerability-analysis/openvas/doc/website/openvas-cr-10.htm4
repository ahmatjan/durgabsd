m4_dnl -*-html-*-
m4_include(`template.m4')

m4_dnl OpenVAS
m4_dnl $Id$
m4_dnl Description: OpenVAS Change Request #10
m4_dnl
m4_dnl Authors:
m4_dnl Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>
m4_dnl
m4_dnl Copyright:
m4_dnl Copyright (C) 2008 Intevation GmbH
m4_dnl
m4_dnl This program is free software; you can redistribute it and/or
m4_dnl modify it under the terms of the GNU General Public License
m4_dnl as published by the Free Software Foundation; either version 2
m4_dnl of the License, or (at your option) any later version.
m4_dnl
m4_dnl This program is distributed in the hope that it will be useful,
m4_dnl but WITHOUT ANY WARRANTY; without even the implied warranty of
m4_dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
m4_dnl GNU General Public License for more details.
m4_dnl
m4_dnl You should have received a copy of the GNU General Public License
m4_dnl along with this program; if not, write to the Free Software
m4_dnl Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.

m4_define(`EN')
m4_define(`TITLE', `OpenVAS')
m4_define(`MAIN', `misc')



PAGE_START
<h2>OpenVAS Change Request #10: Remove support for non-SSL connections in OpenVAS-Client</h2>

Status: Voted +2. Implemented with revision 937. Released with OpenVAS-Client 1.0.4.

<h3>Purpose</h3>

<p>
To force the client to establish an encrypted connection to the server and thus avoid the 
transmission of unencrypted data between server and client.
</p>

<p>
To remove unused code from the OpenVAS-Client codebase and improve maintainability of the code.
</p>

<p>
To avoid confusion that could arise when users try to establish an unencrypted connection to 
OpenVAS-Server.
</p>

<h3>References</h3>

<p>
</p>

<h3>Rationale</h3>

<p>
OpenVAS-Client provides an option to use SSL encryption for the communication between client
and server. This option defaults to the use of encryption. Disabling this option cause the
communication to be unencrypted and opens the possibility for a potential eavesdropper to
intercept and/or manipulate the data sent between server and client. Because of this, support
for unencrypted communication has already been removed from OpenVAS-Server. However, code for
this option is still present in the client even though it is no longer functional.
</p>

<p>
Also, code for an unencrypted communication with the server via an unix socket is still present
in the client even though support for this on the server has already been removed as well. This 
code can be removed since SSL support is present and the use of unix sockets was only a workaround
for unencrypted network communication.
</p>

<p>
While support for an unencrypted connection between client and server has been removed from OpenVAS-Server,
it should be noted that this option was still viable for connections between an OpenVAS-Client and a
Nessus 2.2 server. Removal of support for non-SSL connections in OpenVAS-Client will mean that those
connections will no longer work.
</p>

<h3>Effects</h3>

<ul>
<li>An unencrypted communication between server and client will no longer be possible; this mainly affects
connections between an OpenVAS client and a Nessus 2.2 server, since support has already been disabled in
OpenVAS-Server.</li>


</ul>

<h3>Design and Implementation</h3>

<ul>

<li> openvas-client/nessus/prefs_dialog/prefs_dialog_auth.c: Remove "Use SSL encryption" option
from authentication dialog and remove handling for this option. </li>

<li> openvas-client/nessus/nessus.c: Establish only encrypted connections. </li>

<li> nessus/prefs_dialog/prefs_dialog_auth.c, nessus/preferences.c, nessus/sighand.c,
nessus/sslui.c, nessus/nessus.c, nessus/nessus.h, nessus/globals.h, include/config32.h,
include/config32.h, include/includes.h, include/libnessus.h, libnessus/network.h,
libnessus/network.c and possibly others: Clean up code relating to USE_AF_UNIX, HAVE_SSL,
NESSUS_ON_SSL, etc.; remove all handling of socket and non-SSL connections.</li>

</ul>

<h3>History</h3>

<ul>
<li> 2008-06-23 Michael Wiegand &lt;michael.wiegand@intevation.de&gt;:<br>
     Updated status.
<li> 2008-06-18 Jan-Oliver Wagner &lt;jan-oliver.wagner@intevation.de&gt;:<br>
     Added voting result.
<li> 2008-06-06 Michael Wiegand &lt;michael.wiegand@intevation.de&gt;:<br>
     Initial text.
</ul>
