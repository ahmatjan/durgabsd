m4_dnl -*-html-*-
m4_include(`template.m4')

m4_dnl OpenVAS
m4_dnl $Id$
m4_dnl Description: OpenVAS Change Request #11
m4_dnl
m4_dnl Authors:
m4_dnl Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>
m4_dnl
m4_dnl Copyright:
m4_dnl Copyright (C) 2008 Intevation GmbH
m4_dnl
m4_dnl This program is free software; you can redistribute it and/or
m4_dnl modify it under the terms of the GNU General Public License
m4_dnl as published by the Free Software Foundation; either version 2
m4_dnl of the License, or (at your option) any later version.
m4_dnl
m4_dnl This program is distributed in the hope that it will be useful,
m4_dnl but WITHOUT ANY WARRANTY; without even the implied warranty of
m4_dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
m4_dnl GNU General Public License for more details.
m4_dnl
m4_dnl You should have received a copy of the GNU General Public License
m4_dnl along with this program; if not, write to the Free Software
m4_dnl Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.

m4_define(`EN')
m4_define(`TITLE', `OpenVAS')
m4_define(`MAIN', `misc')



PAGE_START
<h2>OpenVAS Change Request #11: Make OpenVAS-Client use (and depend on) glib</h2>

Status: Voted +2. Implemented with revision 949. Released with OpenVAS-Client 1.0.4.

<h3>Purpose</h3>

<p>
To reduce code base of OpenVAS-Client by using storage, command line parsing and several
other functionalities of glib instead and thus share the effort to maintain and optimize
base functionalities among a broader developer/user base.
</p>

<h3>References</h3>

<p>
<a href="http://www.openvas.org/openvas-cr-9.html">Change request #9</a> for other parts of OpenVAS
</p>

<h3>Rationale</h3>

<p>
Quite similar to the rest of the project, OpenVAS-Client includes a certain amount of features
that were included through copying of third-party code. Other areas of the codebase contain
(self-)implementations of concepts that could be replaced by implementations already available
in broadly used, well maintained and portable libraries.
</p>

<p>
By using the functionality provided by those libraries for some of the features not unique to 
OpenVAS-Client, the size of the source code could be reduced while at the same time enabling
significant gains in maintainability, performance and portability.
</p>

<p>
A first step towards this goal could be the use of the glib API for certain functions related
to storage handling and command line parsing.
</p>

<h3>Effects</h3>

<ul>
<li> The command line version of OpenVAS-Client would require glib to run.</li>

<li> As with <a href="http://www.openvas.org/openvas-cr-9.html">CR #9</a>,
     the more functionality is moved over to glib the more complicated
     it will be to migrate to other APIs as glib does not implement
     any standard. In the case it should eventually be decided to
     not link against the upstream glib anymore (e.g. it gets abandoned or
     badly maintained), then it would be necessary
     to maintain a copy of glib with only the relevant features
     inside OpenVAS. At least until it might be decided to migrate to other API(s).</li>
</ul>

<h3>Design and Implementation</h3>

<p>
This is not worked out in great detail yet, as it is partly still
to be evaluated which elements of glib are to be used in which way.
</p>

<p>
Basically, the idea is to have a initial step that creates the
dependency to glib and delivers a first helpful feature easy
to implement. Command line parsing appears to be this feature.
</p>

<ul>
<li> Adapt the configure and make process for OpenVAS-Client to consider
     glib even for the command line tool. (done)</li>

<li> Migrate the command line parsing from getopt to glib.
     See <a href="http://library.gnome.org/devel/glib/stable/glib-Commandline-option-parser.html">glib
     API for command line parsing</a> (done).

<li> Remove any occurrence and handling of the getopt copies. (done)</li>

<li> Evaluate which of the <a href="http://library.gnome.org/devel/glib/stable/glib-data-types.html">
     GLib Data Types</a> to be used to replacing arglist and other data management.
</ul>

<h3>History</h3>

<ul>
<li> 2008-06-23 Michael Wiegand &lt;michael.wiegand@intevation.de&gt;:<br>
     Updated status.
<li> 2008-06-18 Jan-Oliver Wagner &lt;jan-oliver.wagner@intevation.de&gt;:<br>
     Added voting result.
<li> 2008-06-10 Michael Wiegand &lt;michael.wiegand@intevation.de&gt;:<br>
     Initial text adapted from CR #9.</li>
</ul>
